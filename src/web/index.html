<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QaSa - Post-Quantum Secure Chat</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <header class="app-header">
            <div class="app-title">QaSa</div>
            <div class="app-subtitle">Post-Quantum Secure Chat</div>
            <div class="app-status">
                <span>Node ID: <span id="peer-id">Loading...</span></span>
                <span>Status: <span id="connection-status">Connecting...</span></span>
                <span id="encryption-status">ðŸ”’</span>
            </div>
        </header>
        
        <main class="app-main">
            <div class="sidebar">
                <div class="search-container">
                    <div class="search-input-group">
                        <input type="text" id="search-input" placeholder="Search for peers...">
                        <select id="search-type">
                            <option value="any">Any</option>
                            <option value="name">Username</option>
                            <option value="key">Key ID</option>
                            <option value="peer">Peer ID</option>
                        </select>
                        <button id="search-btn">Search</button>
                    </div>
                    <div id="search-results" class="search-results hidden"></div>
                </div>
                
                <div class="identity-container">
                    <h3>Your Identity</h3>
                    <div class="identity-form">
                        <input type="text" id="username-input" placeholder="Set your username">
                        <button id="set-username-btn">Set Username</button>
                    </div>
                </div>
                
                <div class="contacts-container">
                    <h3>Contacts</h3>
                    <div id="contact-list" class="contact-list"></div>
                </div>
                
                <div class="sidebar-controls">
                    <button id="settings-btn">Settings</button>
                    <button id="key-management-btn">Key Management</button>
                    <button id="connect-peer-btn" onclick="showConnectModal()">Connect to Peer</button>
                </div>
            </div>
            
            <div class="chat-container">
                <div class="chat-header">
                    <div id="current-chat">No contact selected</div>
                </div>
                <div id="chat-messages" class="chat-messages"></div>
                <div class="message-input-container">
                    <textarea id="message-text" placeholder="Type a message..."></textarea>
                    <button id="send-btn">Send</button>
                </div>
            </div>
        </main>
    </div>
    
    <!-- Modals -->
    <div id="settings-modal" class="modal">
        <div class="modal-content">
            <h2>Settings</h2>
            <div class="settings-form">
                <div class="form-group">
                    <label for="port">Port</label>
                    <input type="number" id="port" value="9000">
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="mdns" checked>
                        Enable mDNS discovery
                    </label>
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="dht" checked>
                        Enable DHT discovery
                    </label>
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="require-auth">
                        Require authentication
                    </label>
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="offline-queue" checked>
                        Enable offline message queue
                    </label>
                </div>
            </div>
            <div class="modal-buttons">
                <button id="save-settings">Save</button>
                <button id="cancel-settings">Cancel</button>
            </div>
        </div>
    </div>
    
    <div id="key-management-modal" class="modal">
        <div class="modal-content">
            <h2>Key Management</h2>
            <div class="keys-container">
                <div class="keys-list" id="keys-list">
                    <!-- Keys will be populated here -->
                </div>
                <div class="key-actions">
                    <button id="generate-keys-btn">Generate New Keys</button>
                    <button id="import-keys-btn">Import Keys</button>
                    <button id="export-keys-btn">Export Selected Key</button>
                    <button id="delete-keys-btn">Delete Selected Key</button>
                </div>
            </div>
            <div class="modal-buttons">
                <button id="close-key-management">Close</button>
            </div>
        </div>
    </div>
    
    <div id="connect-modal" class="modal">
        <div class="modal-content">
            <h2>Connect to Peer</h2>
            <div class="connect-form">
                <div class="form-group">
                    <label for="peer-address">Peer Address</label>
                    <input type="text" id="peer-address" placeholder="/ip4/127.0.0.1/tcp/9000/p2p/QmID...">
                </div>
            </div>
            <div class="modal-buttons">
                <button id="connect-btn">Connect</button>
                <button id="cancel-connect">Cancel</button>
            </div>
        </div>
    </div>
    
    <script src="app.js"></script>
</body>
</html> 